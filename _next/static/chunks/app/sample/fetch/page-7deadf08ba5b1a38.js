(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{56696:function(t,e,s){Promise.resolve().then(s.bind(s,52144))},52144:function(t,e,s){"use strict";let i;s.r(e),s.d(e,{default:function(){return tp}});var a,n,r,h,o,l,u,d,c,_,p,f,v,b,w,y,k,R,O,g,C,m,S,W=s(3827),E=s(32731),M=s(48146),U=s(5577),F=s(94831),x=s(37920),Q=s(46063),T=s(45139),j=s(79555),q=s(44614),A=s(90326),L=(a=new WeakMap,n=new WeakMap,r=new WeakMap,h=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakSet,y=new WeakSet,k=new WeakSet,R=new WeakSet,O=new WeakSet,g=new WeakSet,C=new WeakSet,m=new WeakSet,S=new WeakSet,class extends q.l{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,E._)(this,n).addObserver(this),P((0,E._)(this,n),this.options)?(0,F._)(this,w,N).call(this):this.updateResult(),(0,F._)(this,O,H).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return D((0,E._)(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return D((0,E._)(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,F._)(this,g,Z).call(this),(0,F._)(this,C,G).call(this),(0,E._)(this,n).removeObserver(this)}setOptions(t,e){let s=this.options,i=(0,E._)(this,n);if(this.options=(0,E._)(this,a).defaultQueryOptions(t),(0,Q.VS)(s,this.options)||(0,E._)(this,a).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,E._)(this,n),observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),(0,F._)(this,m,J).call(this);let r=this.hasListeners();r&&I((0,E._)(this,n),i,this.options,s)&&(0,F._)(this,w,N).call(this),this.updateResult(e),r&&((0,E._)(this,n)!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&(0,F._)(this,y,V).call(this);let h=(0,F._)(this,k,z).call(this);r&&((0,E._)(this,n)!==i||this.options.enabled!==s.enabled||h!==(0,E._)(this,v))&&(0,F._)(this,R,B).call(this,h)}getOptimisticResult(t){let e=(0,E._)(this,a).getQueryCache().build((0,E._)(this,a),t),s=this.createResult(e,t);return(0,Q.VS)(this.getCurrentResult(),s)||((0,U._)(this,h,s),(0,U._)(this,l,this.options),(0,U._)(this,o,(0,E._)(this,n).state)),s}getCurrentResult(){return(0,E._)(this,h)}trackResult(t){let e={};return Object.keys(t).forEach(s=>{Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:()=>((0,E._)(this,b).add(s),t[s])})}),e}getCurrentQuery(){return(0,E._)(this,n)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){let e=(0,E._)(this,a).defaultQueryOptions(t),s=(0,E._)(this,a).getQueryCache().build((0,E._)(this,a),e);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,e))}fetch(t){var e;return(0,F._)(this,w,N).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then(()=>(this.updateResult(),(0,E._)(this,h)))}createResult(t,e){let s;let i=(0,E._)(this,n),a=this.options,p=(0,E._)(this,h),f=(0,E._)(this,o),v=(0,E._)(this,l),b=t!==i?t.state:(0,E._)(this,r),{state:w}=t,{error:y,errorUpdatedAt:k,fetchStatus:R,status:O}=w,g=!1;if(e._optimisticResults){let s=this.hasListeners(),n=!s&&P(t,e),r=s&&I(t,i,e,a);(n||r)&&(R=(0,A.Kw)(t.options.networkMode)?"fetching":"paused",w.dataUpdatedAt||(O="pending")),"isRestoring"===e._optimisticResults&&(R="idle")}if(e.select&&void 0!==w.data){if(p&&w.data===(null==f?void 0:f.data)&&e.select===(0,E._)(this,d))s=(0,E._)(this,c);else try{(0,U._)(this,d,e.select),s=e.select(w.data),s=(0,Q.oE)(null==p?void 0:p.data,s,e),(0,U._)(this,c,s),(0,U._)(this,u,null)}catch(t){(0,U._)(this,u,t)}}else s=w.data;if(void 0!==e.placeholderData&&void 0===s&&"pending"===O){let t;if((null==p?void 0:p.isPlaceholderData)&&e.placeholderData===(null==v?void 0:v.placeholderData))t=p.data;else{var C;if(t="function"==typeof e.placeholderData?e.placeholderData(null===(C=(0,E._)(this,_))||void 0===C?void 0:C.state.data,(0,E._)(this,_)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,U._)(this,u,null)}catch(t){(0,U._)(this,u,t)}}void 0!==t&&(O="success",s=(0,Q.oE)(null==p?void 0:p.data,t,e),g=!0)}(0,E._)(this,u)&&(y=(0,E._)(this,u),s=(0,E._)(this,c),k=Date.now(),O="error");let m="fetching"===R,S="pending"===O,W="error"===O,M=S&&m;return{status:O,fetchStatus:R,isPending:S,isSuccess:"success"===O,isError:W,isInitialLoading:M,isLoading:M,data:s,dataUpdatedAt:w.dataUpdatedAt,error:y,errorUpdatedAt:k,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>b.dataUpdateCount||w.errorUpdateCount>b.errorUpdateCount,isFetching:m,isRefetching:m&&!S,isLoadingError:W&&0===w.dataUpdatedAt,isPaused:"paused"===R,isPlaceholderData:g,isRefetchError:W&&0!==w.dataUpdatedAt,isStale:K(t,e),refetch:this.refetch}}updateResult(t){let e=(0,E._)(this,h),s=this.createResult((0,E._)(this,n),this.options);if((0,U._)(this,o,(0,E._)(this,n).state),(0,U._)(this,l,this.options),void 0!==(0,E._)(this,o).data&&(0,U._)(this,_,(0,E._)(this,n)),(0,Q.VS)(s,e))return;(0,U._)(this,h,s);let i={};(null==t?void 0:t.listeners)!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,E._)(this,b).size)return!0;let i=new Set(null!=s?s:(0,E._)(this,b));return this.options.throwOnError&&i.add("error"),Object.keys((0,E._)(this,h)).some(t=>(0,E._)(this,h)[t]!==e[t]&&i.has(t))})()&&(i.listeners=!0),(0,F._)(this,S,X).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,F._)(this,O,H).call(this)}constructor(t,e){super(),(0,x._)(this,w),(0,x._)(this,y),(0,x._)(this,k),(0,x._)(this,R),(0,x._)(this,O),(0,x._)(this,g),(0,x._)(this,C),(0,x._)(this,m),(0,x._)(this,S),(0,M._)(this,a,{writable:!0,value:void 0}),(0,M._)(this,n,{writable:!0,value:void 0}),(0,M._)(this,r,{writable:!0,value:void 0}),(0,M._)(this,h,{writable:!0,value:void 0}),(0,M._)(this,o,{writable:!0,value:void 0}),(0,M._)(this,l,{writable:!0,value:void 0}),(0,M._)(this,u,{writable:!0,value:void 0}),(0,M._)(this,d,{writable:!0,value:void 0}),(0,M._)(this,c,{writable:!0,value:void 0}),(0,M._)(this,_,{writable:!0,value:void 0}),(0,M._)(this,p,{writable:!0,value:void 0}),(0,M._)(this,f,{writable:!0,value:void 0}),(0,M._)(this,v,{writable:!0,value:void 0}),(0,M._)(this,b,{writable:!0,value:void 0}),(0,U._)(this,n,void 0),(0,U._)(this,r,void 0),(0,U._)(this,h,void 0),(0,U._)(this,b,new Set),this.options=e,(0,U._)(this,a,t),(0,U._)(this,u,null),this.bindMethods(),this.setOptions(e)}});function P(t,e){return!1!==e.enabled&&!t.state.dataUpdatedAt&&!("error"===t.state.status&&!1===e.retryOnMount)||t.state.dataUpdatedAt>0&&D(t,e,e.refetchOnMount)}function D(t,e,s){if(!1!==e.enabled){let i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&K(t,e)}return!1}function I(t,e,s,i){return!1!==s.enabled&&(t!==e||!1===i.enabled)&&(!s.suspense||"error"!==t.state.status)&&K(t,s)}function K(t,e){return t.isStaleByTime(e.staleTime)}function N(t){(0,F._)(this,m,J).call(this);let e=(0,E._)(this,n).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(Q.ZT)),e}function V(){if((0,F._)(this,g,Z).call(this),Q.sk||(0,E._)(this,h).isStale||!(0,Q.PN)(this.options.staleTime))return;let t=(0,Q.Kp)((0,E._)(this,h).dataUpdatedAt,this.options.staleTime);(0,U._)(this,p,setTimeout(()=>{(0,E._)(this,h).isStale||this.updateResult()},t+1))}function z(){var t;return null!==(t="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,E._)(this,n)):this.options.refetchInterval)&&void 0!==t&&t}function B(t){(0,F._)(this,C,G).call(this),(0,U._)(this,v,t),!Q.sk&&!1!==this.options.enabled&&(0,Q.PN)((0,E._)(this,v))&&0!==(0,E._)(this,v)&&(0,U._)(this,f,setInterval(()=>{(this.options.refetchIntervalInBackground||j.j.isFocused())&&(0,F._)(this,w,N).call(this)},(0,E._)(this,v)))}function H(){(0,F._)(this,y,V).call(this),(0,F._)(this,R,B).call(this,(0,F._)(this,k,z).call(this))}function Z(){(0,E._)(this,p)&&(clearTimeout((0,E._)(this,p)),(0,U._)(this,p,void 0))}function G(){(0,E._)(this,f)&&(clearInterval((0,E._)(this,f)),(0,U._)(this,f,void 0))}function J(){let t=(0,E._)(this,a).getQueryCache().build((0,E._)(this,a),this.options);if(t===(0,E._)(this,n))return;let e=(0,E._)(this,n);(0,U._)(this,n,t),(0,U._)(this,r,t.state),this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}function X(t){T.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t((0,E._)(this,h))}),(0,E._)(this,a).getQueryCache().notify({query:(0,E._)(this,n),type:"observerResultsUpdated"})})}var Y=s(64090),$=Y.createContext((i=!1,{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i})),tt=()=>Y.useContext($),te=s(47082),ts=Y.createContext(!1),ti=()=>Y.useContext(ts);ts.Provider;var ta=(t,e)=>{(t.suspense||t.throwOnError)&&!e.isReset()&&(t.retryOnMount=!1)},tn=t=>{Y.useEffect(()=>{t.clearReset()},[t])},tr=t=>{var e;let{result:s,errorResetBoundary:i,throwOnError:a,query:n}=t;return s.isError&&!i.isReset()&&!s.isFetching&&n&&(e=[s.error,n],"function"==typeof a?a(...e):!!a)},th=(t,e)=>void 0===e.state.data,to=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},tl=(t,e)=>(null==t?void 0:t.suspense)&&e.isPending,tu=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});let td=async()=>{let t=await fetch("https://mocki.io/v1/178a3315-be2e-416b-ad47-ee28b99cdd7d");return await t.json()},tc=()=>{let{data:t}=function(t,e,s){let i=(0,te.NL)(s),a=ti(),n=tt(),r=i.defaultQueryOptions(t);r._optimisticResults=a?"isRestoring":"optimistic",to(r),ta(r,n),tn(n);let[h]=Y.useState(()=>new e(i,r)),o=h.getOptimisticResult(r);if(Y.useSyncExternalStore(Y.useCallback(t=>{let e=a?()=>void 0:h.subscribe(T.V.batchCalls(t));return h.updateResult(),e},[h,a]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),Y.useEffect(()=>{h.setOptions(r,{listeners:!1})},[r,h]),tl(r,o))throw tu(r,h,n);if(tr({result:o,errorResetBoundary:n,throwOnError:r.throwOnError,query:i.getQueryCache().get(r.queryHash)}))throw o.error;return r.notifyOnChangeProps?o:h.trackResult(o)}({queryKey:["repo","facebook"],queryFn:async()=>await td(),enabled:!0,suspense:!0,throwOnError:th},L,void 0);return t},t_=()=>{let t=tc();return(0,W.jsx)(W.Fragment,{children:t.map((t,e)=>(0,W.jsxs)("p",{children:[t.name," / ",t.description]}))})};function tp(){return(0,W.jsx)(Y.Suspense,{fallback:(0,W.jsx)("div",{children:"Loading..."}),children:(0,W.jsx)(t_,{})})}}},function(t){t.O(0,[369,971,69,744],function(){return t(t.s=56696)}),_N_E=t.O()}]);