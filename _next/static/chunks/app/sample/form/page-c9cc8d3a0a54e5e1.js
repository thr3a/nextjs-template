(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{53010:function(e){"use strict";e.exports=function equal(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;if(Array.isArray(e)){if((t=e.length)!=r.length)return!1;for(o=t;0!=o--;)if(!equal(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((t=(n=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=t;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=t;0!=o--;){var t,o,n,l=n[o];if(!equal(e[l],r[l]))return!1}return!0}return e!=e&&r!=r}},1600:function(e,r,t){Promise.resolve().then(t.bind(t,73371))},73371:function(e,r,t){"use strict";t.r(r),t.d(r,{SampleForm:function(){return SampleForm}});var o=t(57437),n=t(2265),l=t(53010);function filterErrors(e){return null===e||"object"!=typeof e?{}:Object.keys(e).reduce((r,t)=>{let o=e[t];return null!=o&&!1!==o&&(r[t]=o),r},{})}var a=Object.defineProperty,u=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues=(e,r)=>{for(var t in r||(r={}))s.call(r,t)&&__defNormalProp(e,t,r[t]);if(u)for(var t of u(r))i.call(r,t)&&__defNormalProp(e,t,r[t]);return e};function clearListState(e,r){if(null===r||"object"!=typeof r)return{};let t=__spreadValues({},r);return Object.keys(r).forEach(r=>{r.includes(`${String(e)}.`)&&delete t[r]}),t}function shouldValidateOnChange(e,r){return!!r&&("boolean"==typeof r?r:!!Array.isArray(r)&&r.includes(e.replace(/[.][0-9]/g,".__MANTINE_FORM_INDEX__")))}function set(e,r,t){"object"==typeof t.value&&(t.value=klona(t.value)),t.enumerable&&!t.get&&!t.set&&t.configurable&&t.writable&&"__proto__"!==r?e[r]=t.value:Object.defineProperty(e,r,t)}function klona(e){if("object"!=typeof e)return e;var r,t,o,n=0,l=Object.prototype.toString.call(e);if("[object Object]"===l?o=Object.create(e.__proto__||null):"[object Array]"===l?o=Array(e.length):"[object Set]"===l?(o=new Set,e.forEach(function(e){o.add(klona(e))})):"[object Map]"===l?(o=new Map,e.forEach(function(e,r){o.set(klona(r),klona(e))})):"[object Date]"===l?o=new Date(+e):"[object RegExp]"===l?o=new RegExp(e.source,e.flags):"[object DataView]"===l?o=new e.constructor(klona(e.buffer)):"[object ArrayBuffer]"===l?o=e.slice(0):"Array]"===l.slice(-6)&&(o=new e.constructor(e)),o){for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)set(o,t[n],Object.getOwnPropertyDescriptor(e,t[n]));for(n=0,t=Object.getOwnPropertyNames(e);n<t.length;n++)Object.hasOwnProperty.call(o,r=t[n])&&o[r]===e[r]||set(o,r,Object.getOwnPropertyDescriptor(e,r))}return o||e}function getSplittedPath(e){return"string"!=typeof e?[]:e.split(".")}function setPath(e,r,t){let o=getSplittedPath(e);if(0===o.length)return t;let n=klona(t);if(1===o.length)return n[o[0]]=r,n;let l=n[o[0]];for(let e=1;e<o.length-1;e+=1){if(void 0===l)return n;l=l[o[e]]}return l[o[o.length-1]]=r,n}function getPath(e,r){let t=getSplittedPath(e);if(0===t.length||"object"!=typeof r||null===r)return;let o=r[t[0]];for(let e=1;e<t.length&&void 0!==o;e+=1)o=o[t[e]];return o}function getValidationResults(e){let r=filterErrors(e);return{hasErrors:Object.keys(r).length>0,errors:r}}function validateValues(e,r){return"function"==typeof e?getValidationResults(e(r)):getValidationResults(function validateRulesRecord(e,r,t="",o={}){return"object"!=typeof e||null===e?o:Object.keys(e).reduce((o,n)=>{let l=e[n],a=`${""===t?"":`${t}.`}${n}`,u=getPath(a,r),s=!1;return"function"==typeof l&&(o[a]=l(u,r,a)),"object"==typeof l&&Array.isArray(u)&&(s=!0,u.forEach((e,t)=>validateRulesRecord(l,r,`${a}.${t}`,o))),"object"!=typeof l||"object"!=typeof u||null===u||s||validateRulesRecord(l,r,a,o),o},o)}(e,r))}function validateFieldValue(e,r,t){if("string"!=typeof e)return{hasError:!1,error:null};let o=validateValues(r,t),n=Object.keys(o.errors).find(r=>e.split(".").every((e,t)=>e===r.split(".")[t]));return{hasError:!!n,error:n?o.errors[n]:null}}var c=Object.defineProperty,f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,reorder_errors_defNormalProp=(e,r,t)=>r in e?c(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,reorder_errors_spreadValues=(e,r)=>{for(var t in r||(r={}))p.call(r,t)&&reorder_errors_defNormalProp(e,t,r[t]);if(f)for(var t of f(r))d.call(r,t)&&reorder_errors_defNormalProp(e,t,r[t]);return e},b=Object.defineProperty,y=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,change_error_indices_defNormalProp=(e,r,t)=>r in e?b(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,change_error_indices_spreadValues=(e,r)=>{for(var t in r||(r={}))_.call(r,t)&&change_error_indices_defNormalProp(e,t,r[t]);if(y)for(var t of y(r))h.call(r,t)&&change_error_indices_defNormalProp(e,t,r[t]);return e};function getIndexFromKeyAfterPath(e,r){let t=e.substring(r.length+1).split(".")[0];return parseInt(t,10)}function changeErrorIndices(e,r,t,o){if(void 0===r)return t;let n=`${String(e)}`,l=t;-1===o&&(l=clearListState(`${n}.${r}`,l));let a=change_error_indices_spreadValues({},l),u=new Set;return Object.entries(l).filter(([e])=>{if(!e.startsWith(`${n}.`))return!1;let t=getIndexFromKeyAfterPath(e,n);return!Number.isNaN(t)&&t>=r}).forEach(([e,r])=>{let t=getIndexFromKeyAfterPath(e,n),l=e.replace(`${n}.${t}`,`${n}.${t+o}`);a[l]=r,u.add(l),u.has(e)||delete a[e]}),a}function getStatus(e,r){let t=Object.keys(e);if("string"==typeof r){let o=t.filter(e=>e.startsWith(`${r}.`));return e[r]||o.some(r=>e[r])||!1}return t.some(r=>e[r])}var g=Object.defineProperty,m=Object.defineProperties,O=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,use_form_defNormalProp=(e,r,t)=>r in e?g(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,use_form_spreadValues=(e,r)=>{for(var t in r||(r={}))P.call(r,t)&&use_form_defNormalProp(e,t,r[t]);if(j)for(var t of j(r))v.call(r,t)&&use_form_defNormalProp(e,t,r[t]);return e},__spreadProps=(e,r)=>m(e,O(r));function useForm({initialValues:e={},initialErrors:r={},initialDirty:t={},initialTouched:o={},clearInputErrorOnChange:a=!0,validateInputOnChange:u=!1,validateInputOnBlur:s=!1,transformValues:i=e=>e,validate:c}={}){let[f,p]=(0,n.useState)(o),[d,b]=(0,n.useState)(t),[y,_]=(0,n.useState)(e),[h,g]=(0,n.useState)(filterErrors(r)),m=(0,n.useRef)(e),setValuesSnapshot=e=>{m.current=e},O=(0,n.useCallback)(()=>p({}),[]),j=(0,n.useCallback)(e=>g(r=>filterErrors("function"==typeof e?e(r):e)),[]),P=(0,n.useCallback)(()=>g({}),[]),v=(0,n.useCallback)(()=>{_(e),P(),setValuesSnapshot(e),b({}),O()},[]),k=(0,n.useCallback)((e,r)=>j(t=>__spreadProps(use_form_spreadValues({},t),{[e]:r})),[]),E=(0,n.useCallback)(e=>j(r=>{if("string"!=typeof e)return r;let t=use_form_spreadValues({},r);return delete t[e],t}),[]),S=(0,n.useCallback)(e=>b(r=>{if("string"!=typeof e)return r;let t=clearListState(e,r);return delete t[e],t}),[]),V=(0,n.useCallback)((e,r)=>{let t=shouldValidateOnChange(e,u);S(e),p(r=>__spreadProps(use_form_spreadValues({},r),{[e]:!0})),_(o=>{let n=setPath(e,r,o);if(t){let r=validateFieldValue(e,c,n);r.hasError?k(e,r.error):E(e)}return n}),!t&&a&&k(e,null)},[]),w=(0,n.useCallback)(e=>{_(r=>{let t="function"==typeof e?e(r):e;return use_form_spreadValues(use_form_spreadValues({},r),t)}),a&&P()},[]),x=(0,n.useCallback)((e,r)=>{S(e),_(t=>(function(e,{from:r,to:t},o){let n=getPath(e,o);if(!Array.isArray(n))return o;let l=[...n],a=n[r];return l.splice(r,1),l.splice(t,0,a),setPath(e,l,o)})(e,r,t)),g(t=>(function(e,{from:r,to:t},o){let n=`${e}.${r}`,l=`${e}.${t}`,a=reorder_errors_spreadValues({},o);return Object.keys(o).every(e=>{let r,t;if(e.startsWith(n)&&(r=e,t=e.replace(n,l)),e.startsWith(l)&&(r=e.replace(l,n),t=e),r&&t){let e=a[r],o=a[t];return void 0===o?delete a[r]:a[r]=o,void 0===e?delete a[t]:a[t]=e,!1}return!0}),a})(e,r,t))},[]),C=(0,n.useCallback)((e,r)=>{S(e),_(t=>(function(e,r,t){let o=getPath(e,t);return Array.isArray(o)?setPath(e,o.filter((e,t)=>t!==r),t):t})(e,r,t)),g(t=>changeErrorIndices(e,r,t,-1))},[]),N=(0,n.useCallback)((e,r,t)=>{S(e),_(o=>(function(e,r,t,o){let n=getPath(e,o);if(!Array.isArray(n))return o;let l=[...n];return l.splice("number"==typeof t?t:l.length,0,r),setPath(e,l,o)})(e,r,t,o)),g(r=>changeErrorIndices(e,t,r,1))},[]),I=(0,n.useCallback)(()=>{let e=validateValues(c,y);return g(e.errors),e},[y,c]),A=(0,n.useCallback)(e=>{let r=validateFieldValue(e,c,y);return r.hasError?k(e,r.error):E(e),r},[y,c]),$=(0,n.useCallback)(e=>{e.preventDefault(),v()},[]),F=(0,n.useCallback)(e=>getStatus(f,e),[f]),R=(0,n.useCallback)(e=>e?!validateFieldValue(e,c,y).hasError:!validateValues(c,y).hasErrors,[y,c]);return{values:y,errors:h,setValues:w,setInitialValues:setValuesSnapshot,setErrors:j,setFieldValue:V,setFieldError:k,clearFieldError:E,clearErrors:P,reset:v,validate:I,validateField:A,reorderListItem:x,removeListItem:C,insertListItem:N,getInputProps:(e,{type:r="input",withError:t=!0,withFocus:o=!0}={})=>{var n;let l=(n=r=>V(e,r),e=>{if(e){if("function"==typeof e)n(e);else if("object"==typeof e&&"nativeEvent"in e){let{currentTarget:r}=e;r instanceof HTMLInputElement?"checkbox"===r.type?n(r.checked):n(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&n(r.value)}else n(e)}else n(e)}),a={onChange:l};return t&&(a.error=h[e]),"checkbox"===r?a.checked=getPath(e,y):a.value=getPath(e,y),o&&(a.onFocus=()=>p(r=>__spreadProps(use_form_spreadValues({},r),{[e]:!0})),a.onBlur=()=>{if(shouldValidateOnChange(e,s)){let r=validateFieldValue(e,c,y);r.hasError?k(e,r.error):E(e)}}),a},onSubmit:(e,r)=>t=>{null==t||t.preventDefault();let o=I();o.hasErrors?null==r||r(o.errors,y,t):null==e||e(i(y),t)},onReset:$,isDirty:e=>{if(e){let r=getPath(e,d);if("boolean"==typeof r)return r;let t=getPath(e,y),o=getPath(e,m.current);return!l(t,o)}let r=Object.keys(d).length>0;return r?getStatus(d):!l(y,m.current)},isTouched:F,setTouched:p,setDirty:b,resetTouched:O,resetDirty:e=>{let r=e?use_form_spreadValues(use_form_spreadValues({},y),e):y;setValuesSnapshot(r),b({})},isValid:R,getTransformedValues:e=>i(e||y)}}var k=t(17328),E=t(84326),S=t(29854),V=t(88893),w=t(17099);let[x,C,N]=function(){let e=(0,n.createContext)(null);return[function({form:r,children:t}){return n.createElement(e.Provider,{value:r},t)},function(){let r=(0,n.useContext)(e);if(!r)throw Error("useFormContext was called outside of FormProvider context");return r},useForm]}();function NameInput(){let e=C();return(0,o.jsx)(k.TextInput,{label:"氏名",...e.getInputProps("name")})}function SampleForm(){let e=N({initialValues:{age:20,name:""}}),handleSubmit=()=>{console.log(e.values)};return(0,o.jsx)(x,{form:e,children:(0,o.jsxs)(E.Box,{component:"form",maw:400,mx:"auto",onSubmit:e.onSubmit(()=>{handleSubmit()}),children:[(0,o.jsx)(NameInput,{}),(0,o.jsx)(S.NumberInput,{label:"年齢",...e.getInputProps("age")}),(0,o.jsxs)(V.Group,{justify:"flex-end",children:[(0,o.jsx)(w.Button,{type:"submit",children:"送信"}),(0,o.jsx)(w.Button,{type:"button",color:"gray",onClick:()=>{e.reset(),e.clearErrors()},children:"クリア"})]})]})})}},30622:function(e,r,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=t(2265),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function q(e,r,t){var o,l={},i=null,c=null;for(o in void 0!==t&&(i=""+t),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(c=r.ref),r)a.call(r,o)&&!s.hasOwnProperty(o)&&(l[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===l[o]&&(l[o]=r[o]);return{$$typeof:n,type:e,key:i,ref:c,props:l,_owner:u.current}}r.Fragment=l,r.jsx=q,r.jsxs=q},57437:function(e,r,t){"use strict";e.exports=t(30622)}},function(e){e.O(0,[665,971,864,744],function(){return e(e.s=1600)}),_N_E=e.O()}]);