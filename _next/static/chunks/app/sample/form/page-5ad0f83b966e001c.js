(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{66344:function(e,t,r){Promise.resolve().then(r.bind(r,53115))},59731:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(l=n;0!=l--;)if(!e(t[l],r[l]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(l=n;0!=l--;)if(!Object.prototype.hasOwnProperty.call(r,a[l]))return!1;for(l=n;0!=l--;){var n,l,a,u=a[l];if(!e(t[u],r[u]))return!1}return!0}return t!=t&&r!=r}},53115:function(e,t,r){"use strict";r.d(t,{SampleForm:function(){return _}});var n=r(57437),l=r(11736),a=r(31831),u=r(75036),o=r(86608),c=r(57029),s=r(2265);let i="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function f(e,t){i(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function d(e){return null===e||"object"!=typeof e?{}:Object.keys(e).reduce((t,r)=>{let n=e[r];return null!=n&&!1!==n&&(t[r]=n),t},{})}function p(e,t){if(null===t||"object"!=typeof t)return{};let r={...t};return Object.keys(t).forEach(t=>{t.includes("".concat(String(e),"."))&&delete r[t]}),r}function b(e,t){return parseInt(e.substring(t.length+1).split(".")[0],10)}function h(e,t,r,n){if(void 0===t)return r;let l="".concat(String(e)),a=r;-1===n&&(a=p("".concat(l,".").concat(t),a));let u={...a},o=new Set;return Object.entries(a).filter(e=>{let[r]=e;if(!r.startsWith("".concat(l,".")))return!1;let n=b(r,l);return!Number.isNaN(n)&&n>=t}).forEach(e=>{let[t,r]=e,a=b(t,l),c=t.replace("".concat(l,".").concat(a),"".concat(l,".").concat(a+n));u[c]=r,o.add(c),o.has(t)||delete u[t]}),u}function y(e){return"string"!=typeof e?[]:e.split(".")}function m(e,t){let r=y(e);if(0===r.length||"object"!=typeof t||null===t)return;let n=t[r[0]];for(let e=1;e<r.length&&void 0!==n;e+=1)n=n[r[e]];return n}function v(e,t,r){"object"==typeof r.value&&(r.value=g(r.value)),r.enumerable&&!r.get&&!r.set&&r.configurable&&r.writable&&"__proto__"!==t?e[t]=r.value:Object.defineProperty(e,t,r)}function g(e){if("object"!=typeof e)return e;var t,r,n,l=0,a=Object.prototype.toString.call(e);if("[object Object]"===a?n=Object.create(e.__proto__||null):"[object Array]"===a?n=Array(e.length):"[object Set]"===a?(n=new Set,e.forEach(function(e){n.add(g(e))})):"[object Map]"===a?(n=new Map,e.forEach(function(e,t){n.set(g(t),g(e))})):"[object Date]"===a?n=new Date(+e):"[object RegExp]"===a?n=new RegExp(e.source,e.flags):"[object DataView]"===a?n=new e.constructor(g(e.buffer)):"[object ArrayBuffer]"===a?n=e.slice(0):"Array]"===a.slice(-6)&&(n=new e.constructor(e)),n){for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)v(n,r[l],Object.getOwnPropertyDescriptor(e,r[l]));for(l=0,r=Object.getOwnPropertyNames(e);l<r.length;l++)Object.hasOwnProperty.call(n,t=r[l])&&n[t]===e[t]||v(n,t,Object.getOwnPropertyDescriptor(e,t))}return n||e}function E(e,t,r){let n=y(e);if(0===n.length)return r;let l=g(r);if(1===n.length)return l[n[0]]=t,l;let a=l[n[0]];for(let e=1;e<n.length-1;e+=1){if(void 0===a)return l;a=a[n[e]]}return a[n[n.length-1]]=t,l}var k=r(59731);function j(e,t){let r=Object.keys(e);if("string"==typeof t){let n=r.filter(e=>e.startsWith("".concat(t,".")));return e[t]||n.some(t=>e[t])||!1}return r.some(t=>e[t])}function V(e,t){return e?"".concat(e,"-").concat(t.toString()):t.toString()}function C(e){let t=d(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function S(e,t){return"function"==typeof e?C(e(t)):C(function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"object"!=typeof t||null===t?l:Object.keys(t).reduce((l,a)=>{let u=t[a],o="".concat(""===n?"":"".concat(n,".")).concat(a),c=m(o,r),s=!1;return"function"==typeof u&&(l[o]=u(c,r,o)),"object"==typeof u&&Array.isArray(c)&&(s=!0,c.forEach((t,n)=>e(u,r,"".concat(o,".").concat(n),l))),"object"!=typeof u||"object"!=typeof c||null===c||s||e(u,r,o,l),l},l)}(e,t))}function O(e,t,r){if("string"!=typeof e)return{hasError:!1,error:null};let n=S(t,r),l=Object.keys(n.errors).find(t=>e.split(".").every((e,r)=>e===t.split(".")[r]));return{hasError:!!l,error:l?n.errors[l]:null}}function F(e,t){return!!t&&("boolean"==typeof t?t:!!Array.isArray(t)&&t.includes(e.replace(/[.][0-9]/g,".".concat("__MANTINE_FORM_INDEX__"))))}function w(){let{name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:l={},initialTouched:a={},clearInputErrorOnChange:u=!0,validateInputOnChange:o=!1,validateInputOnBlur:c=!1,onValuesChange:i,transformValues:b=e=>e,enhanceGetInputProps:y,validate:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=function(e){let[t,r]=(0,s.useState)(d(e)),n=(0,s.useRef)(t),l=(0,s.useCallback)(e=>{r(t=>{let r=d("function"==typeof e?e(t):e);return n.current=r,r})},[]),a=(0,s.useCallback)(()=>l({}),[]),u=(0,s.useCallback)(e=>{void 0!==n.current[e]&&l(t=>{let r={...t};return delete r[e],r})},[t]),o=(0,s.useCallback)((e,t)=>{null==t||!1===t?u(e):n.current[e]!==t&&l(r=>({...r,[e]:t}))},[t]);return{errorsState:t,setErrors:l,clearErrors:a,setFieldError:o,clearFieldError:u}}(n),C=function(e){let{initialValues:t,onValuesChange:r,mode:n}=e,l=(0,s.useRef)(!1),[a,u]=(0,s.useState)(t||{}),o=(0,s.useRef)(a),c=(0,s.useRef)(a),i=(0,s.useCallback)(e=>{let{values:t,subscribers:n,updateState:l=!0,mergeWithPreviousValues:a=!0}=e,c=o.current,s=t instanceof Function?t(o.current):t,i=a?{...c,...s}:s;o.current=i,l&&u(i),null==r||r(i,c),null==n||n.filter(Boolean).forEach(e=>e({updatedValues:i,previousValues:c}))},[r]),f=(0,s.useCallback)(e=>{let t=m(e.path,o.current),r=e.value instanceof Function?e.value(t):e.value;if(t!==r){var n;let t=o.current,l=E(e.path,r,o.current);i({values:l,updateState:e.updateState}),null===(n=e.subscribers)||void 0===n||n.filter(Boolean).forEach(r=>r({path:e.path,updatedValues:l,previousValues:t}))}},[i]),d=(0,s.useCallback)(e=>{c.current=e},[]),p=(0,s.useCallback)((e,t)=>{l.current||(l.current=!0,i({values:e,updateState:"controlled"===n}),d(e),t())},[i]),b=(0,s.useCallback)(()=>{i({values:c.current,updateState:!0,mergeWithPreviousValues:!1})},[i]),h=(0,s.useCallback)(()=>o.current,[]),y=(0,s.useCallback)(()=>c.current,[]);return{initialized:l,stateValues:a,refValues:o,valuesSnapshot:c,setValues:i,setFieldValue:f,resetValues:b,setValuesSnapshot:d,initialize:p,getValues:h,getValuesSnapshot:y}}({initialValues:r,onValuesChange:i,mode:t}),w=function(e){let{initialDirty:t,initialTouched:r,mode:n,$values:l}=e,[a,u]=(0,s.useState)(r),[o,c]=(0,s.useState)(t),i=(0,s.useRef)(r),f=(0,s.useRef)(t),d=(0,s.useCallback)(e=>{let t="function"==typeof e?e(i.current):e;i.current=t,"controlled"===n&&u(t)},[]),b=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="function"==typeof e?e(f.current):e;f.current=r,("controlled"===n||t)&&c(r)},[]),h=(0,s.useCallback)(()=>d({}),[]),y=(0,s.useCallback)((e,t)=>{d(r=>j(r,e)===t?r:{...r,[e]:t})},[]),v=(0,s.useCallback)((e,t,r)=>{b(r=>j(r,e)===t?r:{...r,[e]:t},r)},[]),g=(0,s.useCallback)((e,t)=>{let r=j(f.current,e),n=!k(m(e,l.getValuesSnapshot()),t),a=p(e,f.current);a[e]=n,b(a,r!==n)},[]),E=(0,s.useCallback)(e=>j(i.current,e),[]),V=(0,s.useCallback)(e=>b(t=>{if("string"!=typeof e)return t;let r=p(e,t);return(delete r[e],k(r,t))?t:r}),[]),C=(0,s.useCallback)(e=>{if(e){let t=m(e,f.current);return"boolean"==typeof t?t:!k(m(e,l.refValues.current),m(e,l.valuesSnapshot.current))}return Object.keys(f.current).length>0?j(f.current):!k(l.refValues.current,l.valuesSnapshot.current)},[]),S=(0,s.useCallback)(()=>f.current,[]),O=(0,s.useCallback)(()=>i.current,[]);return{touchedState:a,dirtyState:o,touchedRef:i,dirtyRef:f,setTouched:d,setDirty:b,resetDirty:e=>{let t=e?{...e,...l.refValues.current}:l.refValues.current;l.setValuesSnapshot(t),b({})},resetTouched:h,isTouched:E,setFieldTouched:y,setFieldDirty:v,setTouchedState:u,setDirtyState:c,clearFieldDirty:V,isDirty:C,getDirty:S,getTouched:O,setCalculatedFieldDirty:g}}({initialDirty:l,initialTouched:a,$values:C,mode:t}),x=function(e){let{$values:t,$errors:r,$status:n}=e;return{reorderListItem:(0,s.useCallback)((e,l)=>{n.clearFieldDirty(e),r.setErrors(t=>(function(e,t,r){let{from:n,to:l}=t,a="".concat(e,".").concat(n),u="".concat(e,".").concat(l),o={...r};return Object.keys(r).every(e=>{let t,r;if(e.startsWith(a)&&(t=e,r=e.replace(a,u)),e.startsWith(u)&&(t=e.replace(u,a),r=e),t&&r){let e=o[t],n=o[r];return void 0===n?delete o[t]:o[t]=n,void 0===e?delete o[r]:o[r]=e,!1}return!0}),o})(e,l,t)),t.setValues({values:function(e,t,r){let{from:n,to:l}=t,a=m(e,r);if(!Array.isArray(a))return r;let u=[...a],o=a[n];return u.splice(n,1),u.splice(l,0,o),E(e,u,r)}(e,l,t.refValues.current),updateState:!0})},[]),removeListItem:(0,s.useCallback)((e,l)=>{n.clearFieldDirty(e),r.setErrors(t=>h(e,l,t,-1)),t.setValues({values:function(e,t,r){let n=m(e,r);return Array.isArray(n)?E(e,n.filter((e,r)=>r!==t),r):r}(e,l,t.refValues.current),updateState:!0})},[]),insertListItem:(0,s.useCallback)((e,l,a)=>{n.clearFieldDirty(e),r.setErrors(t=>h(e,a,t,1)),t.setValues({values:function(e,t,r,n){let l=m(e,n);if(!Array.isArray(l))return n;let a=[...l];return a.splice("number"==typeof r?r:a.length,0,t),E(e,a,n)}(e,l,a,t.refValues.current),updateState:!0})},[])}}({$values:C,$errors:g,$status:w}),D=function(e){let{$status:t}=e,r=(0,s.useRef)({}),n=(0,s.useCallback)((e,t)=>{(0,s.useEffect)(()=>(r.current[e]=r.current[e]||[],r.current[e].push(t),()=>{r.current[e]=r.current[e].filter(e=>e!==t)}),[t])},[]),l=(0,s.useCallback)(e=>r.current[e]?r.current[e].map(r=>n=>r({previousValue:m(e,n.previousValues),value:m(e,n.updatedValues),touched:t.isTouched(e),dirty:t.isDirty(e)})):[],[]);return{subscribers:r,watch:n,getFieldSubscribers:l}}({$status:w}),[I,T]=(0,s.useState)(0),[_,A]=(0,s.useState)({}),L=(0,s.useCallback)(()=>{C.resetValues(),g.clearErrors(),w.resetDirty(),w.resetTouched(),"uncontrolled"===t&&T(e=>e+1)},[]),P=(0,s.useCallback)(e=>{u&&g.clearErrors(),"uncontrolled"===t&&T(e=>e+1),Object.keys(D.subscribers.current).forEach(t=>{m(t,C.refValues.current)!==m(t,e)&&D.getFieldSubscribers(t).forEach(t=>t({previousValues:e,updatedValues:C.refValues.current}))})},[u]),N=(0,s.useCallback)(e=>{let r=C.refValues.current;C.initialize(e,()=>"uncontrolled"===t&&T(e=>e+1)),P(r)},[P]),R=(0,s.useCallback)((e,r,n)=>{let l=F(e,o),a=r instanceof Function?r(m(e,C.refValues.current)):r;w.setCalculatedFieldDirty(e,a),w.setFieldTouched(e,!0),!l&&u&&g.clearFieldError(e),C.setFieldValue({path:e,value:r,updateState:"controlled"===t,subscribers:[...D.getFieldSubscribers(e),l?t=>{let r=O(e,v,t.updatedValues);r.hasError?g.setFieldError(e,r.error):g.clearFieldError(e)}:null,(null==n?void 0:n.forceUpdate)!==!1&&"controlled"!==t?()=>A(t=>({...t,[e]:(t[e]||0)+1})):null]})},[i,v]),B=(0,s.useCallback)(e=>{let r=C.refValues.current;C.setValues({values:e,updateState:"controlled"===t}),P(r)},[i,P]),M=(0,s.useCallback)(()=>{let e=S(v,C.refValues.current);return g.setErrors(e.errors),e},[v]),W=(0,s.useCallback)(e=>{let t=O(e,v,C.refValues.current);return t.hasError?g.setFieldError(e,t.error):g.clearFieldError(e),t},[v]),z=(0,s.useCallback)(e=>{e.preventDefault(),L()},[]),H=(0,s.useCallback)(e=>e?!O(e,v,C.refValues.current).hasError:!S(v,C.refValues.current).hasErrors,[v]),U=(0,s.useCallback)(t=>document.querySelector('[data-path="'.concat(V(e,t),'"]')),[]),q={watch:D.watch,initialized:C.initialized.current,values:C.stateValues,getValues:C.getValues,setInitialValues:C.setValuesSnapshot,initialize:N,setValues:B,setFieldValue:R,errors:g.errorsState,setErrors:g.setErrors,setFieldError:g.setFieldError,clearFieldError:g.clearFieldError,clearErrors:g.clearErrors,resetDirty:w.resetDirty,setTouched:w.setTouched,setDirty:w.setDirty,isTouched:w.isTouched,resetTouched:w.resetTouched,isDirty:w.isDirty,getTouched:w.getTouched,getDirty:w.getDirty,reorderListItem:x.reorderListItem,insertListItem:x.insertListItem,removeListItem:x.removeListItem,reset:L,validate:M,validateField:W,getInputProps:function(r){var n;let{type:l="input",withError:a=!0,withFocus:u=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={onChange:(n=e=>R(r,e,{forceUpdate:!1}),e=>{if(e){if("function"==typeof e)n(e);else if("object"==typeof e&&"nativeEvent"in e){let{currentTarget:t}=e;t instanceof HTMLInputElement?"checkbox"===t.type?n(t.checked):n(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&n(t.value)}else n(e)}else n(e)}),"data-path":V(e,r)};return a&&(s.error=g.errorsState[r]),"checkbox"===l?s["controlled"===t?"checked":"defaultChecked"]=m(r,C.refValues.current):s["controlled"===t?"value":"defaultValue"]=m(r,C.refValues.current),u&&(s.onFocus=()=>w.setFieldTouched(r,!0),s.onBlur=()=>{if(F(r,c)){let e=O(r,v,C.refValues.current);e.hasError?g.setFieldError(r,e.error):g.clearFieldError(r)}}),Object.assign(s,null==y?void 0:y({inputProps:s,field:r,options:{type:l,withError:a,withFocus:u,...o},form:q}))},onSubmit:(e,t)=>r=>{null==r||r.preventDefault();let n=M();n.hasErrors?null==t||t(n.errors,C.refValues.current,r):null==e||e(b(C.refValues.current),r)},onReset:z,isValid:H,getTransformedValues:e=>b(e||C.refValues.current),key:e=>"".concat(I,"-").concat(e,"-").concat(_[e]||0),getInputNode:U};return e&&function(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw Error('[@mantine/use-form] Form name "'.concat(e,'" is invalid, it should contain only letters, numbers and dashes'))}(e),f("mantine-form:".concat(e,":set-field-value"),e=>q.setFieldValue(e.detail.path,e.detail.value)),f("mantine-form:".concat(e,":set-values"),e=>q.setValues(e.detail)),f("mantine-form:".concat(e,":set-initial-values"),e=>q.setInitialValues(e.detail)),f("mantine-form:".concat(e,":set-errors"),e=>q.setErrors(e.detail)),f("mantine-form:".concat(e,":set-field-error"),e=>q.setFieldError(e.detail.path,e.detail.error)),f("mantine-form:".concat(e,":clear-field-error"),e=>q.clearFieldError(e.detail)),f("mantine-form:".concat(e,":clear-errors"),q.clearErrors),f("mantine-form:".concat(e,":reset"),q.reset),f("mantine-form:".concat(e,":validate"),q.validate),f("mantine-form:".concat(e,":validate-field"),e=>q.validateField(e.detail)),f("mantine-form:".concat(e,":reorder-list-item"),e=>q.reorderListItem(e.detail.path,e.detail.payload)),f("mantine-form:".concat(e,":remove-list-item"),e=>q.removeListItem(e.detail.path,e.detail.index)),f("mantine-form:".concat(e,":insert-list-item"),e=>q.insertListItem(e.detail.path,e.detail.item,e.detail.index)),f("mantine-form:".concat(e,":set-dirty"),e=>q.setDirty(e.detail)),f("mantine-form:".concat(e,":set-touched"),e=>q.setTouched(e.detail)),f("mantine-form:".concat(e,":reset-dirty"),e=>q.resetDirty(e.detail)),f("mantine-form:".concat(e,":reset-touched"),q.resetTouched),q}let[x,D,I]=function(){let e=(0,s.createContext)(null);return[function(t){let{form:r,children:l}=t;return(0,n.jsx)(e.Provider,{value:r,children:l})},function(){let t=(0,s.useContext)(e);if(!t)throw Error("useFormContext was called outside of FormProvider context");return t},w]}();function T(){let e=D();return(0,n.jsx)(l.TextInput,{label:"氏名",...e.getInputProps("name")})}function _(){let e=I({initialValues:{age:20,name:""}}),t=()=>{console.log(e.values)};return(0,n.jsx)(x,{form:e,children:(0,n.jsxs)(a.Box,{component:"form",maw:400,mx:"auto",onSubmit:e.onSubmit(()=>{t()}),children:[(0,n.jsx)(T,{}),(0,n.jsx)(u.NumberInput,{label:"年齢",...e.getInputProps("age")}),(0,n.jsxs)(o.Group,{justify:"flex-end",children:[(0,n.jsx)(c.Button,{type:"submit",children:"送信"}),(0,n.jsx)(c.Button,{type:"button",color:"gray",onClick:()=>{e.reset(),e.clearErrors()},children:"クリア"})]})]})})}}},function(e){e.O(0,[37,971,23,744],function(){return e(e.s=66344)}),_N_E=e.O()}]);